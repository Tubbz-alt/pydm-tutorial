

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Important Concepts &mdash; PyDM Tutorial 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Widgets" href="widgets.html" />
    <link rel="prev" title="Setting up the Environment" href="../intro.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyDM Tutorial
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Before You Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Setting up the Environment</a></li>
</ul>
<p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Important Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pydm-launcher">PyDM Launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#channels">Channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-architecture">Data Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#macro-substitution">Macro Substitution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#inserting-macro-variables">Inserting Macro Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replacing-macro-variables-at-launch-time">Replacing Macro Variables at Launch Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macros-in-python-based-displays">Macros in Python-based Displays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macro-behavior-at-run-time">Macro Behavior at Run Time</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="widgets.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasource.html">Data Sources</a></li>
</ul>
<p class="caption"><span class="caption-text">Hands-on</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../action/intro_designer.html">Introduction to Qt Designer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../action/tutorial.html">About the Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../action/designer.html">Building Your First Display with Qt Designer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../action/intro_python.html">A Word About Python Displays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../action/little_code.html">Adding Code into the Main Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../action/python.html">Making Pure Python Displays</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contrib/help.html">Getting Help With PyDM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contrib/requests.html">Bug and Requests</a></li>
</ul>
<p class="caption"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab/pydm">PyDM GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab">SLAC-wide GitHub</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyDM Tutorial</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Important Concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/intro/important_concepts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="important-concepts">
<h1>Important Concepts<a class="headerlink" href="#important-concepts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="pydm-launcher">
<h2>PyDM Launcher<a class="headerlink" href="#pydm-launcher" title="Permalink to this headline">¶</a></h2>
<p>PyDM provides a launcher that makes it easier for users to quickly run UI files as well as code based screens.
The launcher is responsible for setting up the Python logging module but it mainly parses the command line parameters
and send them to the instantiated PyDMApplication.</p>
<p>The Launcher is available for Linux, OSX and Windows and it can be called using the command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydm
</pre></div>
</div>
<p>This will result in the PyDM Main Window being displayed.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/main_window.png"><img alt="PyDM Main Window" src="../_images/main_window.png" style="width: 510.75px; height: 367.5px;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is not mandatory for you to use the PyDM Launcher to run your screen but keep in mind that not using it means that
you will need to handle command line arguments, logging setup and the instantiation of the PyDMApplication at your own
code.</p>
</div>
</div>
<div class="section" id="channels">
<span id="channel"></span><h2>Channels<a class="headerlink" href="#channels" title="Permalink to this headline">¶</a></h2>
<p><strong>Channels</strong> are the bridge between PyDM Widgets and the different Data Plugins provided.</p>
<p>Usually channels are specified on the following format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">protocol</span><span class="o">&gt;</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">channel</span> <span class="n">address</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">protocol</span></code> is a unique identifier for a given Data Plugin used with PyDM and <code class="docutils literal notranslate"><span class="pre">channel</span> <span class="pre">address</span></code> will vary
depending on the data plugin and every plugin should have in its documentation the expected format for users.</p>
<p>Here are some examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ca</span><span class="p">:</span><span class="o">//</span><span class="n">MTEST</span><span class="p">:</span><span class="n">Float</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">ca</span></code> means the Channel Access plugin and <code class="docutils literal notranslate"><span class="pre">MTEST:Float</span></code> is the PV name in this case.</p>
<p>Another example is the Archiver Appliance plugin in which channels are specified as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">archiver</span><span class="p">:</span><span class="o">//</span><span class="n">pv</span><span class="o">=</span><span class="n">test</span><span class="p">:</span><span class="n">pv</span><span class="p">:</span><span class="mi">123</span><span class="o">&amp;</span><span class="n">donotchunk</span>
</pre></div>
</div>
<p>In which everything at the <code class="docutils literal notranslate"><span class="pre">channel</span> <span class="pre">address</span></code> section is the same as what is sent to the <code class="docutils literal notranslate"><span class="pre">retrieval</span></code> part of the Archiver
as specified at the <strong>Retrieving data using other tools</strong> section of the <a class="reference external" href="https://slacmshankar.github.io/epicsarchiver_docs/userguide.html">Archiver Appliance User Guide</a></p>
</div>
<div class="section" id="data-architecture">
<span id="dataarchitecture"></span><h2>Data Architecture<a class="headerlink" href="#data-architecture" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>PyDM widgets are data-source agnostic, and communicate with the PyDM Application through Qt signals and slots.</li>
<li>The PyDM application routes data between the widgets and data source plugins.</li>
<li>A data source plugin speaks to a particular source of data (EPICS, HTTP, databases, etc).</li>
<li>This system makes it possible to mix-and-match different data sources within the same display, using the same widget set.</li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/architecture.png"><img alt="PyDM Data Plugin Architecture" src="../_images/architecture.png" style="width: 620.5px; height: 456.0px;" /></a>
</div>
</div>
<div class="section" id="macro-substitution">
<span id="macros"></span><h2>Macro Substitution<a class="headerlink" href="#macro-substitution" title="Permalink to this headline">¶</a></h2>
<p>PyDM has support for macro substitution, which is a way to make a .ui template
for a display, and fill in variables in the template when the display is opened.</p>
<p>The macro system is also a good way to supply data to python-based displays when
launching them from the command line, related display button, or as an embedded
display.</p>
<div class="section" id="inserting-macro-variables">
<h3>Inserting Macro Variables<a class="headerlink" href="#inserting-macro-variables" title="Permalink to this headline">¶</a></h3>
<p>Anywhere in a .ui file, you can insert a macro of the following form: <code class="docutils literal notranslate"><span class="pre">${variable}</span></code>.
Note that Qt Designer will only let you use macros in string properties, but you
can insert macros anywhere in a .ui file using a text editor.</p>
</div>
<div class="section" id="replacing-macro-variables-at-launch-time">
<h3>Replacing Macro Variables at Launch Time<a class="headerlink" href="#replacing-macro-variables-at-launch-time" title="Permalink to this headline">¶</a></h3>
<p>When launching a .ui file which contains macro variables, specify values for each
variable using the ‘-m’ flag on the command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python pydm.py -m <span class="s1">&#39;{&quot;variable&quot;: &quot;value&quot;}&#39;</span> my_file.ui
</pre></div>
</div>
</div>
<div class="section" id="macros-in-python-based-displays">
<h3>Macros in Python-based Displays<a class="headerlink" href="#macros-in-python-based-displays" title="Permalink to this headline">¶</a></h3>
<p>If you open a python file and specify macros (via the command line, related display
button, or embedded display widget), the macros will be passed as a dictionary to
the Display class initializer, where they can be accessed and used to generate the
display.</p>
<p>In addition, if the Display class specifies a .ui file to generate its user
interface, macro substitution will occur inside the .ui file.</p>
</div>
<div class="section" id="macro-behavior-at-run-time">
<h3>Macro Behavior at Run Time<a class="headerlink" href="#macro-behavior-at-run-time" title="Permalink to this headline">¶</a></h3>
<p>PyDM will remember the macros used to launch a display, and re-use them when
navigating with the forward, back, and home buttons. When a new display is opened,
any macros defined on the current window are also passed to the new display.
This lets you cascade macros to child displays.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="widgets.html" class="btn btn-neutral float-right" title="Widgets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../intro.html" class="btn btn-neutral" title="Setting up the Environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, mgibbs, hhslepicka.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>